/* Redesigned Dark Glassmorphism Theme */
:root {
  --bg-base: #05060a;
  --bg-grad: radial-gradient(circle at 20% 20%, #0f172a 0%, #06070d 55%, #05060a 100%);
  --panel-bg: rgba(255,255,255,0.07);
  --panel-bg-alt: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.035) 100%);
  --panel-border: 1px solid rgba(255,255,255,0.12);
  --panel-border-glow: 0 0 0 1px rgba(255,255,255,0.15), 0 8px 32px -6px rgba(0,0,0,0.65), 0 0 32px -6px rgba(56,189,248,0.25);
  --blur: 22px;
  --radius-xs:6px; --radius-sm:10px; --radius-md:16px; --radius-lg:26px;
  --font-stack:'Inter', 'Segoe UI', Roboto, system-ui, Helvetica, Arial, sans-serif;
  --fg:#f1f5f9; --fg-soft:#cbd5e1; --fg-muted:#64748b; --fg-faint:#334155;
  --accent:#06b6d4; --accent-alt:#6366f1; --accent-warn:#f59e0b; --accent-danger:#ef4444; --accent-good:#10b981;
  --grad-accent:linear-gradient(135deg,var(--accent) 0%,var(--accent-alt) 95%);
  --focus-ring:0 0 0 1px rgba(255,255,255,0.3),0 0 0 4px rgba(56,189,248,0.25);
  --transition: .35s cubic-bezier(.4,.0,.2,1);
  --shadow-soft:0 4px 24px -4px rgba(0,0,0,0.6);
  --shadow-lift:0 8px 40px -6px rgba(0,0,0,0.7),0 0 0 1px rgba(255,255,255,0.08);
  --code-bg:#0f172a;
}
* { box-sizing:border-box; }
html,body { margin:0; padding:0; font-family:var(--font-stack); background:var(--bg-grad); background-attachment:fixed; color:var(--fg); min-height:100%; -webkit-font-smoothing:antialiased; }
body { display:flex; }

/* Scrollbar styling */
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:rgba(255,255,255,0.02); }
::-webkit-scrollbar-thumb { background:linear-gradient(180deg,rgba(255,255,255,0.25),rgba(255,255,255,0.08)); border-radius:20px; border:2px solid #05060a; }
::-webkit-scrollbar-thumb:hover { background:linear-gradient(180deg,rgba(255,255,255,0.3),rgba(255,255,255,0.16)); }

.glass { background:var(--panel-bg-alt); backdrop-filter:blur(var(--blur)) saturate(170%); border:var(--panel-border); border-radius:var(--radius-md); box-shadow:var(--shadow-soft); position:relative; overflow:hidden; }
.glass::before { content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(160deg,rgba(255,255,255,0.2),rgba(255,255,255,0) 40%); mix-blend-mode:overlay; opacity:.6; }
.muted { color:var(--fg-muted); }
.faint { color:var(--fg-faint); }

/* Layout */
.dashboard-shell { display:flex; width:100%; min-height:100vh; }
.sidebar { width:252px; display:flex; flex-direction:column; gap:1.3rem; padding:1.4rem 1.3rem 2.2rem; position:sticky; top:0; align-self:flex-start; height:100vh; z-index:50; }
.sidebar .brand { font-weight:700; font-size:1.05rem; letter-spacing:1px; display:flex; align-items:center; gap:.4rem; }
.sidebar .brand span { background:var(--grad-accent); -webkit-background-clip:text; color:transparent; text-shadow:0 0 12px rgba(56,189,248,0.45); }

/* Navigation */
.nav { display:flex; flex-direction:column; gap:.4rem; }
.nav-link { --active-bg:linear-gradient(95deg,rgba(6,182,212,0.18),rgba(99,102,241,0.08)); text-decoration:none; color:var(--fg-muted); font-size:0.82rem; font-weight:500; letter-spacing:.35px; padding:.65rem .85rem; border-radius:12px; position:relative; transition:var(--transition); display:flex; align-items:center; gap:.55rem; }
.nav-link::after { content:""; position:absolute; inset:0; border-radius:inherit; box-shadow:0 0 0 0 rgba(56,189,248,0.4); opacity:0; transition:var(--transition); }
.nav-link:hover { color:var(--fg); background:rgba(255,255,255,0.04); }
.nav-link.active { color:var(--fg); background:var(--active-bg); box-shadow:0 0 0 1px rgba(6,182,212,0.35),0 0 0 4px rgba(6,182,212,0.15); }
.nav-link.active::after { opacity:1; box-shadow:0 0 0 2px rgba(99,102,241,0.25),0 0 18px -2px rgba(56,189,248,0.4) inset; }
.logout-form { margin-top:auto; }
.logout-form button { width:100%; }

/* Main column */
.main-column { flex:1; display:flex; flex-direction:column; min-width:0; }
.dash-header { display:flex; align-items:center; justify-content:space-between; padding:.95rem 1.4rem; margin:1rem 1rem 0; gap:1rem; border-radius:var(--radius-md); }
.dash-header .user-avatar img { width:46px; height:46px; border-radius:50%; object-fit:cover; border:2px solid rgba(255,255,255,0.18); box-shadow:0 4px 16px -4px rgba(0,0,0,0.5); }
.dash-content { padding:1.35rem 1.35rem 2.75rem; display:flex; flex-direction:column; gap:1.65rem; }

/* Page title */
.page-title { font-size:1.1rem; font-weight:600; letter-spacing:.5px; background:var(--grad-accent); -webkit-background-clip:text; color:transparent; filter:drop-shadow(0 4px 18px rgba(6,182,212,0.2)); }

/* Stats cards */
.stats-cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:1.1rem; }
.stats-cards .stat { padding:1rem 1.05rem 1.1rem; display:flex; flex-direction:column; gap:.45rem; position:relative; overflow:hidden; border-radius:var(--radius-md); background:linear-gradient(145deg,rgba(255,255,255,0.10),rgba(255,255,255,0.04)); border:1px solid rgba(255,255,255,0.12); backdrop-filter:blur(var(--blur)) saturate(160%); box-shadow:var(--shadow-soft); isolation:isolate; }
.stats-cards .stat::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 80% 0%,rgba(6,182,212,0.35),transparent 60%); opacity:.35; mix-blend-mode:screen; }
.stat .label { font-size:.63rem; letter-spacing:1.2px; text-transform:uppercase; color:var(--fg-muted); font-weight:600; }
.stat .value { font-size:1.5rem; font-weight:700; letter-spacing:.5px; display:flex; align-items:baseline; gap:.25rem; }
.stat .delta { font-size:.65rem; font-weight:600; color:var(--accent-good); animation:fadeIn .6s ease-out; }

/* Panels */
.panel-grid { display:grid; gap:1.35rem; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); align-items:start; }
.panel { padding:1.15rem 1.2rem 1.45rem; display:flex; flex-direction:column; gap:1.05rem; position:relative; background:var(--panel-bg-alt); border:var(--panel-border); border-radius:var(--radius-md); backdrop-filter:blur(var(--blur)) saturate(170%); box-shadow:var(--shadow-soft); transition:var(--transition); }
.panel:hover { box-shadow:var(--shadow-lift); transform:translateY(-2px); }
.panel.full { min-height:60vh; }
.panel-header { display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.panel-title { font-size:.78rem; text-transform:uppercase; letter-spacing:1.5px; color:var(--fg-muted); font-weight:700; }
.panel-actions { display:flex; align-items:center; gap:.4rem; }

/* Reveal animation base */
.stat, .panel, .ring { opacity:0; transform:translateY(14px) scale(.98); transition:opacity .7s cubic-bezier(.4,0,.2,1), transform .9s cubic-bezier(.4,0,.2,1); }
.stat.revealed, .panel.revealed, .ring.revealed { opacity:1; transform:translateY(0) scale(1); }

/* Progress rings */
.sys-rings { display:flex; gap:1.5rem; margin-top:1rem; flex-wrap:wrap; }
.ring { width:140px; height:170px; position:relative; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; }
.ring-svg { width:120px; height:120px; transform:rotate(-90deg); }
.ring-bg { fill:none; stroke:rgba(255,255,255,0.08); stroke-width:10; }
.ring-fg { fill:none; stroke:url(#gradRing, linear-gradient(135deg,#06b6d4,#6366f1)); stroke:var(--accent); stroke-width:10; stroke-linecap:round; stroke-dasharray:339.292; stroke-dashoffset:339.292; filter:drop-shadow(0 0 6px rgba(6,182,212,0.55)); }
.ring-label { font-size:.65rem; letter-spacing:1.4px; text-transform:uppercase; color:var(--fg-muted); margin-top:.55rem; font-weight:600; }
.ring-value { font-size:1.15rem; font-weight:700; margin-top:.2rem; letter-spacing:.5px; }

/* Tilt smoothing */
.stat, .panel { will-change:transform; transition:transform .5s cubic-bezier(.4,0,.2,1), box-shadow .5s; transform-style:preserve-3d; }

.scroll-area { max-height:300px; overflow:auto; padding-right:.5rem; }

/* Command center */
.command-runner { display:flex; flex-direction:column; gap:1.05rem; }
#command-form { display:flex; gap:.8rem; }
#command-input { flex:1; padding:.75rem .9rem; border-radius:var(--radius-sm); border:1px solid rgba(255,255,255,0.18); background:rgba(255,255,255,0.05); color:var(--fg); font-size:.85rem; font-weight:500; letter-spacing:.4px; box-shadow:0 2px 6px -2px rgba(0,0,0,0.6) inset; transition:var(--transition); }
#command-input:focus { outline:none; box-shadow:var(--focus-ring); border-color:rgba(56,189,248,0.65); }
.output { background:linear-gradient(130deg,rgba(15,23,42,0.8),rgba(15,23,42,0.55)); padding:.85rem .95rem; border-radius:var(--radius-md); font-size:.75rem; min-height:130px; line-height:1.35; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; position:relative; }
.output::before { content:"Output"; position:absolute; top:6px; right:10px; font-size:.55rem; letter-spacing:1px; text-transform:uppercase; color:var(--fg-muted); }

/* Buttons */
.btn { --btn-bg:rgba(255,255,255,0.09); --btn-border:rgba(255,255,255,0.15); --btn-color:var(--fg); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:.55rem; font-weight:600; font-size:0.8rem; letter-spacing:.35px; text-decoration:none; border-radius:var(--radius-sm); padding:.65rem .95rem; position:relative; overflow:hidden; border:1px solid var(--btn-border); background:var(--btn-bg); color:var(--btn-color); backdrop-filter:blur(var(--blur)); transition:var(--transition); min-width:90px; }
.btn::before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(255,255,255,0.25),transparent 45%); opacity:0; transition:var(--transition); mix-blend-mode:overlay; }
.btn:hover::before { opacity:0.55; }
.btn:hover { filter:brightness(1.15); box-shadow:0 2px 20px -2px rgba(6,182,212,0.35); transform:translateY(-2px); }
.btn:active { transform:translateY(0); }
.btn-primary { --btn-bg:var(--grad-accent); --btn-border:rgba(255,255,255,0.25); box-shadow:0 4px 22px -4px rgba(99,102,241,0.55); }
.btn-primary:hover { box-shadow:0 4px 28px -4px rgba(56,189,248,0.65); }
.btn-outline { --btn-bg:rgba(255,255,255,0.025); }
.btn-danger { --btn-bg:linear-gradient(135deg,#dc2626,#ef4444); }

/* Activity stream */
.activity-stream { min-height:400px; display:flex; flex-direction:column; gap:.65rem; overflow:auto; }
.activity-item { font-size:.72rem; padding:.6rem .7rem .65rem; background:linear-gradient(130deg,rgba(255,255,255,0.08),rgba(255,255,255,0.035)); border:1px solid rgba(255,255,255,0.1); border-radius:12px; position:relative; animation:fadeIn .6s ease; }
.activity-filters { display:flex; gap:.5rem; flex-wrap:wrap; margin:0 0 .75rem; }
.chip { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.16); padding:.4rem .8rem; font-size:.6rem; letter-spacing:1px; text-transform:uppercase; border-radius:999px; cursor:pointer; font-weight:600; color:var(--fg-muted); backdrop-filter:blur(var(--blur)); transition:var(--transition); }
.chip:hover { color:var(--fg); background:rgba(255,255,255,0.12); }
.chip-active, .chip.chip-active { background:linear-gradient(135deg,#06b6d4,#6366f1); color:#fff; border:1px solid rgba(255,255,255,0.25); box-shadow:0 4px 18px -4px rgba(6,182,212,0.5); }
.activity-item::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 95% 15%,rgba(6,182,212,0.25),transparent 60%); opacity:.45; mix-blend-mode:overlay; pointer-events:none; }

/* Status indicators */
.status-dot { width:10px; height:10px; border-radius:50%; background:var(--accent-danger); box-shadow:0 0 0 0 rgba(239,68,68,0.45); animation:pulseOff 2.5s infinite; }
.status-online { background:var(--accent-good); box-shadow:0 0 0 0 rgba(16,185,129,0.55); animation:pulseOn 2.5s infinite; }
@keyframes pulseOn { 0% { box-shadow:0 0 0 0 rgba(16,185,129,0.5);} 70% { box-shadow:0 0 0 12px rgba(16,185,129,0);} 100% { box-shadow:0 0 0 0 rgba(16,185,129,0);} }
@keyframes pulseOff { 0% { box-shadow:0 0 0 0 rgba(239,68,68,0.5);} 70% { box-shadow:0 0 0 12px rgba(239,68,68,0);} 100% { box-shadow:0 0 0 0 rgba(239,68,68,0);} }

/* Skeleton / loading */
.loading-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(170px,1fr)); gap:1.1rem; }
.skeleton-card { height:120px; position:relative; overflow:hidden; border-radius:var(--radius-md); background:linear-gradient(135deg,rgba(255,255,255,0.08),rgba(255,255,255,0.03)); border:1px solid rgba(255,255,255,0.08); }
.skeleton-card::after { content:""; position:absolute; inset:0; background:linear-gradient(110deg,transparent,rgba(255,255,255,0.15),transparent); animation:shimmer 1.25s linear infinite; }
@keyframes shimmer { 0% { transform:translateX(-100%);} 100% { transform:translateX(100%);} }

/* Animations */
@keyframes fadeIn { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:translateY(0);} }

/* Utility */
.grid { display:grid; gap:1rem; }
.flex { display:flex; }
.row { display:flex; flex-direction:row; }
.col { display:flex; flex-direction:column; }
.gap-xs { gap:.35rem; } .gap-sm { gap:.6rem; } .gap-md { gap:1rem; } .gap-lg { gap:1.6rem; }
.center { align-items:center; justify-content:center; }
.w-full { width:100%; }
.uppercase { text-transform:uppercase; }
.badge { font-size:.6rem; padding:.25rem .45rem; border-radius:var(--radius-xs); background:linear-gradient(135deg,rgba(255,255,255,0.14),rgba(255,255,255,0.05)); border:1px solid rgba(255,255,255,0.15); letter-spacing:.8px; font-weight:600; }

/* Live metrics pulses */
.metric-change-up { color:var(--accent-good); animation:fadeIn .45s ease; }
.metric-change-down { color:var(--accent-danger); animation:fadeIn .45s ease; }

/* Responsive adjustments */
@media (max-width:1280px){ .panel-grid { grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); } }
@media (max-width:1080px){ .sidebar { width:230px; } }
@media (max-width:960px){
  .sidebar { position:fixed; left:-280px; top:0; height:100vh; z-index:80; transition:var(--transition); backdrop-filter:blur(26px) saturate(180%); box-shadow:0 8px 40px -8px rgba(0,0,0,0.8); }
  .sidebar.open { left:0; }
  .dash-header { margin:.65rem .75rem 0; }
  .dash-content { padding:1.15rem 1rem 2.2rem; }
  .panel-grid { grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); }
}
@media (max-width:600px){
  .sidebar { width:86%; left:-90%; }
  .sidebar.open { left:0; }
  .stats-cards { grid-template-columns:repeat(auto-fit,minmax(130px,1fr)); }
  .dash-header .user-avatar img { width:40px; height:40px; }
}
