/*
	New design system (shadcn-inspired) + glassmorphism
	- Neutral surfaces, subtle borders, soft shadows
	- Mobile-first first, progressive enhancement on larger screens
*/

/*
	THEME OVERHAUL (tokenized)
	--------------------------------------------------
	Core HSL color tokens followed by semantic aliases.
	Spacing, radii, elevation, motion & typography scales
	provide a consistent design language across the app.
*/
:root {
	/* Base color primitives (HSL w/out hsl()) */
	--clr-bg: 222 47% 7%;
	--clr-bg-alt: 222 40% 10%;
	--clr-fg: 210 40% 96%;
	--clr-fg-subtle: 215 16% 70%;
	--clr-border: 220 12% 18%;
	--clr-primary: 239 84% 67%;
	--clr-success: 146 57% 46%;
	--clr-danger: 0 85% 62%;

	/* Semantic aliases (legacy variable names retained for backward compatibility) */
	--background: var(--clr-bg);
	--foreground: var(--clr-fg);
	--muted: var(--clr-fg-subtle);
	--card: var(--clr-bg-alt);
	--card-foreground: var(--clr-fg);
	--border: var(--clr-border);
	--primary: var(--clr-primary);
	--primary-foreground: 210 40% 98%;
	--success: var(--clr-success);
	--danger: var(--clr-danger);
	--ring: var(--clr-primary);

	/* Spacing scale (4px * n) */
	--space-0: 0;
	--space-1: 4px;  /* 4  */
	--space-2: 8px;  /* 8  */
	--space-3: 12px; /* 12 */
	--space-4: 16px; /* 16 */
	--space-5: 20px; /* 20 */
	--space-6: 24px; /* 24 */
	--space-7: 28px; /* 28 */
	--space-8: 32px; /* 32 */
	--space-9: 40px; /* 40 */
	--space-10: 48px; /* 48 */

	/* Radii */
	--radius-xs: 4px;
	--radius-sm: 8px;
	--radius: 14px; /* legacy */
	--radius-md: 16px;
	--radius-lg: 22px;
	--radius-xl: 28px;

	/* Elevation (shadows) */
	--elev-0: none;
	--elev-1: 0 2px 4px -1px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.02) inset;
	--elev-2: 0 6px 14px -4px rgba(0,0,0,.45), 0 1px 0 0 rgba(255,255,255,.03) inset;
	--elev-3: 0 10px 28px -6px rgba(0,0,0,.55);
	--elev-4: 0 20px 44px -10px rgba(0,0,0,.6);

	/* Glass / translucency */
	--glass: rgba(255,255,255,.06);
	--glass-strong: rgba(255,255,255,.12);
	--glass-blur: 18px;
	--glass-border: 1px solid rgba(255,255,255,.09);

	/* Motion (ease & durations) */
	--ease-out: cubic-bezier(.16,1,.3,1);
	--ease-in: cubic-bezier(.7,.05,.6,.9);
	--dur-1: 90ms;
	--dur-2: 160ms;
	--dur-3: 300ms;
	--dur-4: 600ms;

	/* Typography scale */
	--font-xs: 12px;
	--font-sm: 14px;
	--font-md: 16px;
	--font-lg: 18px;
	--font-xl: 22px;
	--font-2xl: clamp(28px,5.5vw,42px);
	--font-3xl: clamp(42px,7vw,56px);

	/* Legacy fallbacks */
	--shadow: var(--elev-3);
	--elevate: var(--elev-3);
}

/* Utility classes (lightweight) */
.flex { display:flex }
.grid { display:grid }
.col { display:flex; flex-direction:column }
.center { align-items:center; justify-content:center }
.gap-2 { gap: var(--space-2) }
.gap-3 { gap: var(--space-3) }
.gap-4 { gap: var(--space-4) }
.gap-5 { gap: var(--space-5) }
.pad-4 { padding: var(--space-4) }
.pad-5 { padding: var(--space-5) }
.radius-sm { border-radius: var(--radius-sm) }
.radius-md { border-radius: var(--radius-md) }
.radius-lg { border-radius: var(--radius-lg) }
.elev-1 { box-shadow: var(--elev-1) }
.elev-2 { box-shadow: var(--elev-2) }
.elev-3 { box-shadow: var(--elev-3) }
.surface-0 { background: hsl(var(--background)) }
.surface-1 { background: hsl(var(--card)/.85); backdrop-filter: blur(calc(var(--glass-blur)*.4)) saturate(1.1); }
.surface-2 { background: hsl(var(--card)/.75); backdrop-filter: blur(calc(var(--glass-blur)*.7)) saturate(1.25); }
.surface-3 { background: hsl(var(--card)/.65); backdrop-filter: blur(var(--glass-blur)) saturate(1.4); }

/* Reduced motion support baseline */
@media (prefers-reduced-motion: reduce){
	* { animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; scroll-behavior: auto !important; }
}

/* Light theme removed per request. We ship a single dark theme for now. */

* { box-sizing: border-box }
html, body { height: 100% }
body {
	margin: 0;
	color: hsl(var(--foreground));
	background: hsl(var(--background));
	background-image:
		radial-gradient(circle at 15% 20%, rgba(88,101,242,.18), transparent 60%),
		radial-gradient(circle at 85% 70%, rgba(139,92,246,.14), transparent 55%),
		radial-gradient(circle at 50% 110%, rgba(16,185,129,.18), transparent 60%);
	font-family: 'Inter', system-ui, -apple-system, Segoe UI, Arial, sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-size: var(--font-md);
}

/* Section breaks */
section + section { position:relative; }
section + section::before { content:""; position:absolute; left:50%; top:-1px; transform:translateX(-50%); width: min(960px,92%); height:1px; background:linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent); }
/* Larger visual divider for major groups (apply .major-break to a section) */
.major-break { position:relative; }
.major-break::before { content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); pointer-events:none; }
.major-break::after { content:""; position:absolute; left:50%; top:0; transform:translate(-50%,-50%); width:140px; height:36px; background:radial-gradient(circle at 50% 50%, rgba(88,101,242,.45), transparent 70%); filter:blur(18px); opacity:.35; }

@media (max-width:860px){
	section { padding: 44px 0 32px; }
	.modules { padding:50px 0 34px; }
}

/* Utilities */
.container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 16px }
.muted { color: hsl(var(--muted)) }
.bordered { border: 1px solid hsl(var(--border)) }
.card { background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); box-shadow: 0 8px 20px rgba(0,0,0,.25) }
.btn {
	display: inline-flex; align-items: center; gap: var(--space-2);
	padding: 10px 14px; border-radius: 10px; text-decoration: none;
	font-weight: 600; border: 1px solid hsl(var(--border));
	background: hsl(var(--card)); color: hsl(var(--foreground));
	line-height: 1.1; font-size: var(--font-sm);
	transition: background var(--dur-2) var(--ease-out), color var(--dur-2) var(--ease-out), border-color var(--dur-2) var(--ease-out);
}
.icon-btn { display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:10px; border:1px solid hsl(var(--border)); background:hsl(var(--card)); color:hsl(var(--foreground)); cursor:pointer }
.icon-btn:hover { background:hsl(var(--glass)) }
.icon-btn:focus-visible { outline:2px solid hsl(var(--ring)); outline-offset:2px }
.btn.primary { background: hsl(var(--primary)); color: hsl(var(--primary-foreground)); border-color: transparent }
.btn.ghost { background: transparent }
.badge { padding: 6px 10px; border-radius: 999px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)/.7) }
.badge.green { color: hsl(var(--success)); background: rgba(28,156,85,.12); border-color: rgba(28,156,85,.25) }
.badge.red { color: hsl(var(--danger)); background: rgba(240,71,71,.12); border-color: rgba(240,71,71,.25) }

/* Pills (used in navbar links) */
/* Generic pill (kept for chips and small UI) */
.pill { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; text-decoration:none; color:hsl(var(--foreground)); background:hsl(var(--card)/.6); border:1px solid hsl(var(--border)); transition: background .2s ease, border-color .2s ease, transform .1s ease }
.pill:hover { background:hsl(var(--glass-strong)); border-color:hsl(var(--border)) }
.pill.active { background:hsl(var(--primary)); color:hsl(var(--primary-foreground)); border-color:transparent }
.pill.small { padding:6px 10px; font-size:14px }
.pill:focus-visible { outline:2px solid hsl(var(--ring)); outline-offset:2px }

/* shadcn-like navbar link */
.nav-link { display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:8px; text-decoration:none; color:hsl(var(--foreground)); opacity:.9; transition:background .2s ease, opacity .2s ease }
.nav-link:hover { background:hsl(var(--glass)); opacity:1 }
.nav-link.active { background:hsl(var(--glass-strong)); opacity:1 }

/* No top navbar on homepage */
.brand { display: inline-flex; align-items: center; gap: 10px; font-weight: 800; justify-self: start }
.brand img { width: 40px; height: 40px; border-radius: 10px }
.burger { display: inline-flex; width: 36px; height: 36px; align-items: center; justify-content: center; border-radius: 10px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); cursor: pointer }
.burger span { width: 18px; height: 2px; background: hsl(var(--foreground)); position: relative }
.burger span::before, .burger span::after { content: ""; position: absolute; left: 0; width: 18px; height: 2px; background: hsl(var(--foreground)) }
.burger span::before { top: -6px } .burger span::after { top: 6px }

/* Mobile menu */
.mobile-menu { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.55); z-index: 40 }
.mobile-sheet { position: absolute; right: 10px; top: 58px; left: 10px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: var(--radius); padding: 12px }
.mobile-sheet .row { display: grid; gap: 10px }
.mobile-sheet .row a { display: inline-flex; align-items: center; justify-content: center; padding: 12px; border-radius: 12px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); text-decoration: none; color: hsl(var(--foreground)) }
.mobile-sheet .row a.primary { background: hsl(var(--primary)); border-color: transparent; color: hsl(var(--primary-foreground)) }

/* Hero */
/* Hero layout */
/* Deduplicated hero (overhauled) */
.hero { position: relative; padding: var(--space-10) 0 var(--space-8); overflow: hidden }
.hero-advanced { min-height: 72vh; display: grid; align-items: center }
.hero-bg, .hero-overlay, .hero-mark { display: none }
/* Opt-in background for hero when a section has .with-bg */
.with-bg .hero-bg { display:block; position:absolute; inset:0; background-size:cover; background-position:center; filter:saturate(.95) brightness(.9) }
.with-bg .hero-overlay { display:none }

/* Gradient text and animated orbs */
.gradient-text { background: linear-gradient(90deg, #9aa7ff, #b38bff, #7dd3fc); -webkit-background-clip: text; background-clip: text; color: transparent }
.orb { position:absolute; border-radius:9999px; filter: blur(24px); opacity:.35; pointer-events:none }
.orb.a { width:240px; height:240px; background: radial-gradient(circle at 30% 30%, rgba(147,112,219,.9), transparent 60%); top:-20px; left:-30px; animation: floatA 12s ease-in-out infinite alternate }
.orb.b { width:220px; height:220px; background: radial-gradient(circle at 60% 40%, rgba(59,130,246,.9), transparent 60%); bottom:-30px; right:10%; animation: floatB 14s ease-in-out infinite alternate }
.orb.c { width:180px; height:180px; background: radial-gradient(circle at 40% 60%, rgba(16,185,129,.9), transparent 60%); top:40%; right:-40px; animation: floatC 16s ease-in-out infinite alternate }
@keyframes floatA { 0%{ transform: translateY(0)} 100%{ transform: translateY(18px)} }
@keyframes floatB { 0%{ transform: translateY(0)} 100%{ transform: translateY(-16px)} }
@keyframes floatC { 0%{ transform: translateY(0)} 100%{ transform: translateY(12px)} }
/* Dedup hero-grid */
.hero-grid { position: relative; display: grid; gap: var(--space-5); grid-template-columns: 1fr; align-items: center }
.hero-left { display: grid; gap: 14px; text-align: left }
.eyebrow { font-size: 12px; letter-spacing: .12em; text-transform: uppercase; color: hsl(var(--muted)) }
.hero-title { margin: 0; font-size: clamp(32px, 7vw, 56px); line-height: 1.05 }
.hero-sub { margin: 0; font-size: clamp(14px, 2.2vw, 18px); color: hsl(var(--muted)) }
/* Dedup hero-actions */
.hero-actions { display: flex; gap: var(--space-3); flex-wrap: wrap; margin-top: var(--space-2); filter: drop-shadow(0 6px 20px rgba(88,101,242,.18)) }
 .hero-stats { display: grid; grid-template-columns: repeat(3,1fr); gap: var(--space-3); margin-top: var(--space-3) }
.stat-card { padding: 14px; border-radius: 14px; border: 1px solid hsl(var(--border)); background: linear-gradient(180deg, hsl(var(--card)/.9), hsl(var(--card)/.7)); text-align: center }
.stat-value { font-size: clamp(18px, 4vw, 26px); font-weight: 800 }
.stat-value.ok { color: hsl(var(--success)) }
.stat-value.bad { color: hsl(var(--danger)) }
.stat-label { color: hsl(var(--muted)); font-size: 12px; letter-spacing: .08em; text-transform: uppercase }
.hero-right { display: grid; gap: 12px }
/* Dedup tile */
.tile { border-radius: var(--radius-md); border: 1px solid hsl(var(--border)); background: hsl(var(--card)); box-shadow: var(--elev-2); padding: 18px; backdrop-filter: saturate(1.1) blur(4px) }
.kpi-tile .tile-head { display: flex; align-items: center; gap: 10px; margin-bottom: 8px }
.tile-logo { width: 28px; height: 28px; border-radius: 8px }
.tile-title { font-weight: 700 }
.kpi-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px }
.kpi-item { padding: 12px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); display: flex; align-items: center; justify-content: space-between }
.kpi-item span { color: hsl(var(--muted)); font-size: 13px }
.kpi-foot { display: flex; align-items: center; justify-content: space-between; margin-top: 12px }
.note { padding: 14px }
.note-title { font-weight: 700; margin-bottom: 6px }
.note-body { color: hsl(var(--muted)) }

/* Sections */
section { padding: 28px 0 }
.section-title { margin: 0 0 10px; font-size: 22px }
.grid-3 { display: grid; grid-template-columns: repeat(3,1fr); gap: 16px }
.grid-2 { display: grid; grid-template-columns: repeat(2,1fr); gap: 16px }

/* Capabilities */
.capabilities .section-head { display: grid; gap: 6px; text-align: left; margin-bottom: 14px }
/* Dedup cap-grid */
.cap-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: var(--space-4) }
.cap-card { padding: 16px; border-radius: 14px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)) }
.cap-card h3 { margin: 0 0 6px }
.cap-card p { margin: 0; color: hsl(var(--muted)) }

/* Feature cards */
/* Dedup feature */
.feature { padding: var(--space-5); border-radius: var(--radius); border: 1px solid hsl(var(--border)); background: linear-gradient(180deg, hsl(var(--card)/.9), hsl(var(--card)/.7)) }
.feature h3 { margin: 0 0 6px }
.feature p { margin: 0; color: hsl(var(--muted)) }

/* Command explorer */
/* Explorer */
.explorer .section-head { display: grid; gap: 6px; margin-bottom: 12px }
.explorer-toolbar { display: grid; gap: 10px; grid-template-columns: 1fr; align-items: center; margin-bottom: 12px }
.input { width: 100%; display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; padding: 10px 12px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); color: hsl(var(--foreground)) }
.input input { background: transparent; border: none; outline: none; color: inherit; font: inherit }
.kbd { font-size: 12px; color: hsl(var(--muted)); border: 1px solid hsl(var(--border)); padding: 2px 6px; border-radius: 6px; background: hsl(var(--glass)) }
.chipbar { display: flex; gap: 8px; flex-wrap: wrap }
.chip { padding: 6px 10px; border-radius: 999px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); cursor: pointer; user-select: none; font-weight: 600 }
.chip.active { background: hsl(var(--primary)); color: hsl(var(--primary-foreground)); border-color: transparent }
/* Dedup explorer-grid */
.explorer-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: var(--space-4) }
.explorer-card { padding: 14px; border-radius: 14px; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); display: grid; gap: 6px; transition: transform .08s ease, border-color .15s ease }
.explorer-card:hover { transform: translateY(-1px); border-color: hsl(var(--primary)/.45) }
.ex-head { display: grid; gap: 4px }
.ex-name code, .ex-foot code { background: hsl(var(--glass)); padding: 2px 6px; border-radius: 6px }
.ex-desc { color: hsl(var(--muted)); font-size: 13px }

/* CTA */
/* Dedup cta-box */
.cta .cta-box { display: grid; grid-template-columns: 1fr; gap: var(--space-4); padding: 18px; border-radius: var(--radius-md); border: 1px solid hsl(var(--border)); background: hsl(var(--card)) }

/* Dropdown */
.nav-more { position: relative }
.dropdown-menu { position: absolute; top: 42px; right: 0; min-width: 160px; padding: 6px; border-radius: 10px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); box-shadow: 0 8px 20px rgba(0,0,0,.35); display: none }
.dropdown-item { display: block; padding: 8px 10px; border-radius: 8px; text-decoration: none; color: hsl(var(--foreground)) }
.dropdown-item:hover { background: hsl(var(--glass)) }
.cta .steps { margin: 8px 0 0 18px; padding: 0; display: grid; gap: 4px }
.cta .cta-actions { display: flex; gap: 10px; align-items: center; flex-wrap: wrap }

.footer-row { display: flex; align-items: center; justify-content: space-between; gap: 12px }

/* Dashboard shell */
.shell { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh }
.sidebar { position: sticky; top: 0; align-self: start; height: 100vh; padding: 14px; border-right: 1px solid hsl(var(--border)); background: linear-gradient(180deg, hsl(var(--card)/.9), hsl(var(--card)/.6)); overflow:auto }
.side-group { margin-bottom: 16px }
.side-title { font-size: 12px; letter-spacing: .08em; text-transform: uppercase; color: hsl(var(--muted)); margin: 0 0 8px }
.side-link { display: flex; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 10px; text-decoration: none; color: inherit; border: 1px solid transparent }
.side-link:hover { background: hsl(var(--card)); border-color: hsl(var(--border)) }
.shell > .content { grid-column: 2 }
.content { padding: 16px; min-height: 100vh }

/* Off-canvas overlay not in use on homepage */
.offcanvas-overlay { display:none }
.kpi-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px }
.kpi-card { padding: 16px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: linear-gradient(180deg, hsl(var(--card)/.9), hsl(var(--card)/.7)) }
.kpi-card .value { font-size: 24px; font-weight: 800 }
.kpi-card .label { color: hsl(var(--muted)); font-size: 12px; letter-spacing: .08em; text-transform: uppercase }

footer.footer { padding: 20px 0; border-top: 1px solid hsl(var(--border)); color: hsl(var(--muted)) }

/* Animated background surface */
.animated-surface::before,
.animated-surface::after {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
}
.animated-surface::before {
	background:
		radial-gradient(800px 500px at 10% -10%, rgba(88,101,242,.16), transparent 40%),
		radial-gradient(700px 450px at 110% 0%, rgba(0,0,0,.22), transparent 40%);
	filter: saturate(.9) brightness(.95);
	animation: shimmer 14s ease-in-out infinite alternate;
}
.animated-surface::after {
	background:
		linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.60));
	opacity: .6;
}
@keyframes shimmer {
	0% { transform: translate3d(0,0,0) scale(1); opacity: .9 }
	100% { transform: translate3d(0, -12px, 0) scale(1.02); opacity: 1 }
}

/* Opt-out of dimming on hero */
.no-dim.hero .hero-overlay { display:none }
.no-dim.animated-surface::after { display:none }
.no-dim .hero-bg { filter: saturate(1) brightness(1) }

/* ===== Control Center (dash2) ===== */
.dash2-header { position: sticky; top:0; z-index:5; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid hsl(var(--border)); background: linear-gradient(180deg, hsl(var(--card)/.95), hsl(var(--card)/.8)) }
.dash2-brand { display:flex; align-items:center; gap:10px }
.dash2-brand img { width:32px; height:32px; border-radius:8px }
.dash2-title { display:flex; flex-direction:column; line-height:1.1 }
.dash2-title strong { font-size:16px }
.dash2-title span { font-size:12px; color:hsl(var(--muted)) }
.dash2-meta { display:flex; align-items:center; gap:8px }
.guild-box { display:grid; grid-template-columns: auto 1fr; align-items:center; gap:6px; padding:0 8px }
.guild-box select { background:hsl(var(--card)); border:1px solid hsl(var(--border)); color:inherit; padding:6px 8px; border-radius:8px; min-width:200px }
.token-box { display:flex; gap:6px; align-items:center }
.token-box input { background:hsl(var(--card)); border:1px solid hsl(var(--border)); color:inherit; padding:6px 8px; border-radius:8px }

/* Dedup dash2 padding */
.dash2 { padding: var(--space-5) }
/* Dedup dash2-row stats */
.dash2-row.stats { display:grid; grid-template-columns: repeat(4,1fr); gap: var(--space-3); margin-bottom: var(--space-4) }
.dash2-row .stat { padding:14px; border-radius:12px; border:1px solid hsl(var(--border)); background:hsl(var(--card)) }
.dash2-row .stat-label { font-size:12px; color:hsl(var(--muted)); text-transform:uppercase; letter-spacing:.08em }
.dash2-row .stat-value { font-size:22px; font-weight:800 }

/* Dedup dash2-grid */
.dash2-grid { display:grid; grid-template-columns: 1.35fr .65fr; gap: var(--space-4) }
/* Dedup panel */
.panel { padding: var(--space-4); border:1px solid hsl(var(--border)); border-radius: var(--radius-md); background:hsl(var(--card)) }
.glass { background: rgba(255,255,255,.06); backdrop-filter: blur(var(--glass-blur)) saturate(1.4); -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.4); border: var(--glass-border); box-shadow: 0 4px 24px -4px rgba(0,0,0,.55); }
.glass-lite { background: rgba(255,255,255,.04); backdrop-filter: blur(calc(var(--glass-blur) * .6)) saturate(1.2); -webkit-backdrop-filter: blur(calc(var(--glass-blur) * .6)) saturate(1.2); border: var(--glass-border); }
.dash-body { min-height:100vh; display:flex; }
.dash-shell { flex:1; display:flex; }
.dash-sidebar { width:250px; background:rgba(20,22,26,.55); backdrop-filter: blur(var(--glass-blur)) saturate(1.5); -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.5); border-right:var(--glass-border); display:flex; flex-direction:column; gap:24px; padding:18px 16px; position:sticky; top:0; height:100vh; box-shadow: 8px 0 24px -12px rgba(0,0,0,.55); transition: width .25s ease; }
.dash-sidebar.collapsed { width:76px; }
.dash-sidebar .brand-mini { display:flex; gap:10px; align-items:center; font-weight:700; font-size:15px; }
.dash-sidebar .brand-mini img { width:34px; height:34px; border-radius:10px; }
.side-top { display:flex; align-items:center; justify-content:space-between; }
#sidebarToggle { font-size:16px; }
.side-nav { flex:1; overflow:auto; }
.side-section { margin-bottom:26px; }
.side-label { font-size:10px; letter-spacing:.14em; text-transform:uppercase; color:hsl(var(--muted)); margin:0 0 10px; font-weight:600; }
.side-link { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; text-decoration:none; color:hsl(var(--foreground)); font-weight:500; font-size:14px; line-height:1; position:relative; transition: background .15s, color .15s; }
.side-link:hover { background:rgba(255,255,255,.08); }
.side-link.active { background:linear-gradient(135deg, rgba(88,101,242,.35), rgba(139,92,246,.28)); color:#fff; }
.side-footer { display:grid; gap:14px; }
.dash-main { flex:1; display:flex; flex-direction:column; min-width:0; }
.panel-grid-2 { display:grid; grid-template-columns: 1.15fr .85fr; gap:20px; }
.dash-footer { margin-top:40px; }

@media (max-width: 1100px){
	.panel-grid-2 { grid-template-columns: 1fr; }
}
@media (max-width: 860px){
	.dash-sidebar { position:fixed; left:0; top:0; bottom:0; z-index:50; transform:translateX(0); width:240px; }
	.dash-sidebar.collapsed { transform:translateX(-105%); width:240px; }
	.dash-main { margin-left:0; }
}

/* Animations for value updates */
.flash-update { animation: flashFade 1s ease; }
@keyframes flashFade { 0%{ background:rgba(255,255,255,.18) } 100%{ background:transparent } }
.panel-head { display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px }
.panel-head { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px }
.panel-head h3 { margin:0 }
.panel-actions { display:flex; gap:8px; align-items:center }

/* Dedup metric-row */
.metric-row { display:grid; grid-template-columns: repeat(3,1fr); gap: var(--space-3) }
.metric-card { padding:12px; border:1px solid hsl(var(--border)); border-radius:12px; background:linear-gradient(180deg, hsl(var(--card)/.9), hsl(var(--card)/.7)) }
.metric-label { font-size:12px; color:hsl(var(--muted)); text-transform:uppercase; letter-spacing:.08em }
.metric-value { font-size:18px; font-weight:700; margin-bottom:6px }
.metric-card svg { width:100%; height:44px }

.input-lite { background:hsl(var(--card)); border:1px solid hsl(var(--border)); color:inherit; padding:8px 10px; border-radius:10px; width:180px }
/* Dedup cmd-list */
.cmd-list { display:grid; gap: var(--space-3); max-height:440px; overflow:auto; padding-right:6px }
.cmd-group { display:grid; gap:6px }
.cmd-cat { font-weight:800; font-size:14px; margin-bottom:4px }
/* Dedup cmd-row */
.cmd-row { display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap: var(--space-3); padding:10px; border:1px solid hsl(var(--border)); border-radius:12px; background:hsl(var(--card)) }

/* Dedup actions-grid */
.actions-grid { display:grid; grid-template-columns: 1fr; gap: var(--space-4) }
/* Dedup form */
.form { display:grid; gap: var(--space-3); padding:12px; border:1px solid hsl(var(--border)); border-radius:12px; background:hsl(var(--card)/.6) }
.form-row { display:grid; gap:6px }
.form-row label { font-size:12px; color:hsl(var(--muted)); text-transform:uppercase; letter-spacing:.08em }
.form input, .form textarea, .form select { background:hsl(var(--card)); border:1px solid hsl(var(--border)); color:inherit; padding:8px 10px; border-radius:10px; font:inherit }
.form textarea { resize:vertical }

/* Dedup activity-list */
.activity-list { list-style:none; margin:0; padding:0; display:grid; gap: var(--space-3); max-height:440px; overflow:auto }
/* Dedup act-item */
.act-item { display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap: var(--space-3); padding:10px; border:1px solid hsl(var(--border)); border-radius:12px; background:hsl(var(--card)) }
/* Dedup actions-list */
.actions-list { list-style:none; margin:0; padding:0; display:grid; gap: var(--space-3); max-height:280px; overflow:auto }

@media (max-width: 1024px) {
	.dash2-grid { grid-template-columns: 1fr }
	.dash2-row.stats { grid-template-columns: repeat(2,1fr) }
}

/* Breakpoints */
@media (min-width: 860px) {
	.nav-links { display: flex }
	.nav-actions { display: flex }
	.navbar .burger { display: none }
	.explorer-toolbar { grid-template-columns: 1fr auto }
	.hero-grid { grid-template-columns: 1.1fr .9fr }
	.explorer-toolbar { grid-template-columns: 1fr auto }
	.hero-grid { grid-template-columns: 1.1fr .9fr }
	.cap-grid { grid-template-columns: repeat(4,1fr) }
	.explorer-grid { grid-template-columns: repeat(3,1fr) }
	.cta .cta-box { grid-template-columns: 1fr auto }

	/* Desktop: allow hiding the sidebar */
	.shell.sidebar-hidden { grid-template-columns: 0 1fr }
	.shell.sidebar-hidden .sidebar { display: none }
}
@media (max-width: 859.98px) {
	.grid-3 { grid-template-columns: 1fr }
	.grid-2 { grid-template-columns: 1fr }
	.explorer-grid { grid-template-columns: 1fr }
	.shell { grid-template-columns: 1fr; position: relative }
	.shell > .content { grid-column: 1 }
	/* Off-canvas not required when no top navbar; sidebar remains static or use sidebar-hidden on desktop */
	/* overlay styles are global; visibility toggled by script */
	/* Allow hiding sidebar on mobile when shell has sidebar-hidden */
	.shell.sidebar-hidden .sidebar { display: none }
	.kpi-grid { grid-template-columns: 1fr 1fr }
}
